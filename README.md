# مستندات تمرین دستگرمی سوم

این پروژه یک برنامه نقاشی ساده است که با استفاده از React JS و Spring Boot توسعه داده شده است. در بخش دوم، قابلیت‌های احراز هویت کاربر و ذخیره‌سازی نقاشی‌ها در پایگاه داده اضافه شده است.

## ویژگی‌های جدید (بخش دوم)

### 1. سیستم احراز هویت
* صفحه ورود ساده با نام کاربری و رمز عبور
* کاربران پیش‌فرض برای تست:
  - `admin` / `admin123`
  - `user1` / `password1`
  - `user2` / `password2`
  - `artist` / `paint123`
* نمایش نام کاربر در هدر
* قابلیت خروج از حساب کاربری

### 2. ذخیره‌سازی مبتنی بر کاربر
* هر کاربر می‌تواند فقط یک نقاشی داشته باشد
* ذخیره خودکار نقاشی در پایگاه داده
* بارگذاری خودکار نقاشی هنگام ورود
* دکمه "Save" برای ذخیره تغییرات

### 3. پایگاه داده
* استفاده از H2 Database (در حافظه)
* جداول Users و Paintings
* رابطه یک به یک بین کاربر و نقاشی

## ویژگی‌های اصلی (بخش اول)

### 1. هدر (Header)
* امکان وارد کردن و تغییر عنوان نقاشی
* دکمه‌ی Save برای ذخیره در پایگاه داده
* دکمه‌ی Import/Export برای کار با فایل‌های JSON محلی
* نمایش نام کاربر و دکمه خروج

### 2. نوار ابزار جانبی (Sidebar)
* ابزارهایی برای انتخاب اشکال مختلف شامل: دایره، مربع و مثلث

### 3. بوم نقاشی (Canvas)
* محیط مرکزی برای طراحی
* قابلیت کشیدن اشکال از نوار ابزار و رها کردن آن‌ها روی بوم
* امکان جابجایی اشکال موجود
* پیاده‌سازی Drag and Drop برای تعامل راحت‌تر

### 4. شمارنده اشکال
* نمایش تعداد اشکال رسم‌شده به تفکیک نوع در بخش پایین
* بروزرسانی خودکار با هر تغییر در اشکال

### 5. مدیریت اشکال
* امکان حذف شکل با دوبار کلیک
* جابجایی اشکال در بوم با Drag کردن

## معماری سیستم

### Frontend (React)
```
src/
├── App.js          
├── App.css      
├── index.js        
└── public/         
```

### Backend (Spring Boot)
```
painter-backend/src/
├── main/
│   ├── java/
│   │   └── com/example/painterbackend/
│   │       ├── PainterBackendApplication.java
│   │       ├── controller/
│   │       │   └── PainterController.java
│   │       ├── entity/
│   │       │   ├── User.java
│   │       │   └── Painting.java
│   │       └── repository/
│   │           ├── UserRepository.java
│   │           └── PaintingRepository.java
│   └── resources/
│       └── application.properties
└── pom.xml
```

## API Endpoints

### POST /api/login
ورود کاربر به سیستم
```json
{
  "username": "admin",
  "password": "admin123"
}
```

### GET /api/painting/{userId}
دریافت نقاشی کاربر

### POST /api/painting
ذخیره نقاشی کاربر
```json
{
  "userId": 1,
  "title": "My Painting",
  "shapesData": "[{...}]"
}
```

## نصب و راه‌اندازی

### پیش‌نیازها
* Node.js و npm
* Java 11
* Maven

### Backend (Spring Boot)
```bash
cd painter-backend
mvn clean install
mvn spring-boot:run
```
سرور در آدرس `http://localhost:8080` اجرا می‌شود.

### Frontend (React)
```bash
npm install
npm start
```
رابط کاربری در آدرس `http://localhost:3000` در دسترس خواهد بود.

### دسترسی به پایگاه داده
کنسول H2 در آدرس `http://localhost:8080/h2-console` قابل دسترسی است:
* JDBC URL: `jdbc:h2:mem:painter`
* Username: `arian`
* Password: `no password`

## وابستگی‌ها

### Frontend
* React JS برای رابط کاربری
* React DnD برای Drag and Drop
* HTML5 Backend برای DnD
* CSS3 برای استایل‌دهی

### Backend
* Spring Boot 2.7.18
* Spring Data JPA
* H2 Database
* Maven

## ویژگی‌های فنی

### سیستم Drag and Drop
* تشخیص بین کشیدن اشکال جدید و جابجایی اشکال موجود
* موقعیت‌یابی با توجه به مختصات موس
* ارائه بازخورد بصری در هنگام کشیدن اشکال

### مدیریت وضعیت (State Management)
* استفاده از React Hooks
* اختصاص شناسه یکتا برای هر شکل
* بروزرسانی آنلاین داده‌ها در رابط کاربری
* مدیریت وضعیت کاربر جاری

## استفاده از هوش مصنوعی

در این پروژه از مدل‌های مختلف هوش مصنوعی مانند GPT و Claude استفاده شده است: (مخصوصا در بخش css و استایل و اینا)

**مزایا:**
* افزایش سرعت توسعه
* بهبود زیبایی بصری رابط کاربری
* کاهش زمان کدنویسی پیکربندی‌های پایه

**چالش‌ها:**
* نیاز به توضیح دقیق خواسته‌ها
* ضرورت بازبینی و اصلاح کدهای تولیدی
* تطبیق با معماری مورد نظر

## محدودیت‌های پیاده‌سازی فعلی

* هر کاربر فقط یک نقاشی می‌تواند داشته باشد
* عدم وجود session management پیشرفته
* استفاده از پایگاه داده در رم (H2)
* احراز هویت ساده بدون رمزگذاری

## پروژه‌های مرتبط

برای آشنایی بیشتر می‌توانید پروژه‌های زیر را بررسی کنید:

* [JS Paint](https://jspaint.app/)
* [Z-Editor](https://z-editor.github.io/)
